# Haste & Slash Scripting Api
Для более гибкого использования ядра програмы написанного на C++ было принято решение о использовании интерпретатора lua, для вызова C++ функций по сценариям(скритам) реализованных на языке lua.
# Определение скрипта
Для того чтобы скрипт был доступен для использования в программе, его необходимо указать в загружаемых ресурсах(resources.json) по следующей последовательности действий:
1. Указать, что загружаемый ресурс в действительности является скриптом: "type": "script"
2. Указать разрешения(пространства имён) скрипта(permisions), возможные разрешения будут указаны далее.
3. Узазать путь до скрипта напр. resources/scripts/some_script.lua
# Разрешения скрипта
Permissions скрипта указывают когда код скрипта будет выполнятся, и к каким функциям программы у скриптам будут доступ
1. start - в скрипте должна быть функция Start(), которая будет при создании объекта
2. update - в скрипте должна быть функция Update(), которая будет вызыватся при каждом обновлении состояния программы
3. entity - скрипту позволено обращатся к пространству имён entity, которое содержит функции, для создания и удаления сущностей из регистра сущностей, а так же функции для добавления и удаления компонентов сущностей
# Пространство имён entity
## Функции
1. `int addEntity()`  
Создаёт новую сущность и возвращает её идентификатор

2. `void setImage(int entityID, string imageName)`
Создаёт компонент Image у сущности с идентификатором entityID и загружает картинку с названием imageName